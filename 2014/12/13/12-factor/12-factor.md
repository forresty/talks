# 使用 12-factor 的理念快速创建高可维护性的应用

12-factor (http://12factor.net) 是 Heroku 创始人 Adam Wiggins 提出来的 12 条理念，基于这套理念开发团队可以快速高效地开发出具有高可维护性的互联网应用，并且有效对抗 "software erosion"。

自2012年这个理念被提出后以来，已经有许多团队在实战中或者学习或者自行摸索出12条中的若干部分，所以这些理念对于在座诸位可能并不陌生。

然而部分大公司有非常严格的开发流程导致必须有专人进行维护，部分创业公司为了快速开发放弃了这些准则中的一部分从而反过来对自己的应用的稳定高效和可维护造成了负面的影响。

在这里，我们想通过分享我们在小团队快速开发的背景下，如何灵活地应用这些准则，并且引入我们自己的思考，从而提高开发和运维的效率。

## 12 factors

1. 一个子系统一个代码仓库存储，每个子系统可以独立部署，microservices 架构
2. 显式声明依赖，进行严格的环境隔离
3. 把配置存储在 Unix 环境变量中
4. 把外部数据库、缓存以及对其他子系统的依赖声明成资源
5. 严格区分打包和运行的环境（预编译资源文件等)
6. 除了持久化的服务之外，其他的服务应该是无状态的
7. 通过绑定端口对外提供服务，前端使用 TCP proxy 分发请求
8. 通过多进程服务模型进行应用扩容
9. 快速启动，优雅关闭，不中端服务热部署
10. 让开发、测试和部署环境越接近越好
11. 把日志当作事件流集中处理，而不是分散的文件
12. 系统管理任务应该作为一次性的任务执行
